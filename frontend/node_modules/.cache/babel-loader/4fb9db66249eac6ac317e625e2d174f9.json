{"ast":null,"code":"var _jsxFileName = \"/home/chrismo/Documents/PROJECTS/go-movies/frontend/src/routes/movie-graphql.js\",\n    _s = $RefreshSig$();\n\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MovieGraphql() {\n  _s();\n\n  let params = useParams();\n  const [state, setState] = useState({\n    loading: true,\n    movie: {},\n    error: null\n  });\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    const query = `{\n      movie (id: ${params.id}) {\n        id\n        title\n        year\n        description\n        runtime\n        mpaa_rating\n        rating\n        release_date\n        year\n        poster\n        genres{\n          genre {\n            genre_name\n          }\n        }\n      }\n    }`; // const query = `{untyped{name}}`;\n\n    fetch(`${process.env.REACT_APP_URL}/v1/graphql`, {\n      signal: signal,\n      method: \"POST\",\n      body: query,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(_ref => {\n      let {\n        data\n      } = _ref;\n      // console.log(data);\n      setState({\n        movie: data.movie,\n        loading: false\n      });\n    }).catch(err => {\n      if (err.name === \"AbortError\") {\n        console.log(\"successfully aborted\");\n      } else {\n        console.log(err); // setError(err);\n      }\n    });\n    return () => controller.abort();\n  }, [params.id]);\n\n  if (state.loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (state.error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: state.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n  const {\n    movie: {\n      title,\n      runtime,\n      description,\n      mpaa_rating,\n      rating,\n      release_date,\n      year,\n      poster\n    }\n  } = state; // console.log(poster);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"media\",\n      children: [poster !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-left\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"image is-256x256\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://image.tmdb.org/t/p/w200${poster}`,\n            alt: \"pic movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title is-3\",\n          children: [title, \" (\", year, \")\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table is-striped is-fullwidth\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Run Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: runtime\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"MPAA Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: mpaa_rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Release Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(release_date).toLocaleDateString(\"pt-pt\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Year:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(MovieGraphql, \"to30g0eEsUO+y8oKVAwRvLlIbKQ=\", false, function () {\n  return [useParams];\n});\n\n_c = MovieGraphql;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieGraphql\");","map":{"version":3,"sources":["/home/chrismo/Documents/PROJECTS/go-movies/frontend/src/routes/movie-graphql.js"],"names":["useParams","useEffect","useState","MovieGraphql","params","state","setState","loading","movie","error","controller","AbortController","signal","query","id","fetch","process","env","REACT_APP_URL","method","body","headers","then","res","json","data","catch","err","name","console","log","abort","title","runtime","description","mpaa_rating","rating","release_date","year","poster","Date","toLocaleDateString"],"mappings":"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","sourcesContent":["import { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n\nexport default function MovieGraphql() {\n  let params = useParams();\n  const [state, setState] = useState({ loading: true, movie: {}, error: null });\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    const query = `{\n      movie (id: ${params.id}) {\n        id\n        title\n        year\n        description\n        runtime\n        mpaa_rating\n        rating\n        release_date\n        year\n        poster\n        genres{\n          genre {\n            genre_name\n          }\n        }\n      }\n    }`;\n    // const query = `{untyped{name}}`;\n    fetch(`${process.env.REACT_APP_URL}/v1/graphql`, {\n      signal: signal,\n      method: \"POST\",\n      body: query,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then(({ data }) => {\n        // console.log(data);\n        setState({ movie: data.movie, loading: false });\n      })\n      .catch((err) => {\n        if (err.name === \"AbortError\") {\n          console.log(\"successfully aborted\");\n        } else {\n          console.log(err);\n          // setError(err);\n        }\n      });\n    return () => controller.abort();\n  }, [params.id]);\n  if (state.loading) {\n    return <p>loading...</p>;\n  }\n  if (state.error) {\n    return <p>{state.error}</p>;\n  }\n  const {\n    movie: {\n      title,\n      runtime,\n      description,\n      mpaa_rating,\n      rating,\n      release_date,\n      year,\n      poster,\n    },\n  } = state;\n  // console.log(poster);\n  return (\n    <>\n      <div className=\"media\">\n        {poster !== \"\" && (\n          <div className=\"media-left\">\n            <p className=\"image is-256x256\">\n              <img\n                src={`https://image.tmdb.org/t/p/w200${poster}`}\n                alt=\"pic movie\"\n              />\n            </p>\n          </div>\n        )}\n        <div className=\"media-content\">\n          <h3 className=\"title is-3\">\n            {title} ({year}){\" \"}\n          </h3>{\" \"}\n          <table className=\"table is-striped is-fullwidth\">\n            <tbody>\n              <tr>\n                <th>Title:</th>\n                <td>{title}</td>\n              </tr>\n              <tr>\n                <th>Run Time:</th>\n                <td>{runtime}</td>\n              </tr>\n              <tr>\n                <th>Description:</th>\n                <td>{description}</td>\n              </tr>\n              <tr>\n                <th>MPAA Rating:</th>\n                <td>{mpaa_rating}</td>\n              </tr>\n              <tr>\n                <th>Rating:</th>\n                <td>{rating}</td>\n              </tr>\n              <tr>\n                <th>Release Date:</th>\n                <td>{new Date(release_date).toLocaleDateString(\"pt-pt\")}</td>\n              </tr>\n              <tr>\n                <th>Year:</th>\n                <td>{year}</td>\n              </tr>\n              {/* <tr>\n            <th>Genres:</th>\n            <td>{genres && Object.values(genres).map((g) => `${g} `)}</td>\n          </tr> */}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}