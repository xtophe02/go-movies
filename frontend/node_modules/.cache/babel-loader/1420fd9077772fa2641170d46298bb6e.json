{"ast":null,"code":"import { hasProperty, pushUnique, createTagRepeat } from '../../lib/utils.js';\nimport { dateValue, startOfYearPeriod } from '../../lib/date.js';\nimport { parseHTML } from '../../lib/dom.js';\nimport View from './View.js';\n\nfunction toTitleCase(word) {\n  return [...word].reduce((str, ch, ix) => str += ix ? ch : ch.toUpperCase(), '');\n} // Class representing the years and decades view elements\n\n\nexport default class YearsView extends View {\n  constructor(picker, config) {\n    super(picker, config);\n  }\n\n  init(options) {\n    let onConstruction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (onConstruction) {\n      this.navStep = this.step * 10;\n      this.beforeShowOption = `beforeShow${toTitleCase(this.cellClass)}`;\n      this.grid = this.element;\n      this.element.classList.add(this.name, 'datepicker-grid');\n      this.grid.appendChild(parseHTML(createTagRepeat('span', 12)));\n    }\n\n    super.init(options);\n  }\n\n  setOptions(options) {\n    if (hasProperty(options, 'minDate')) {\n      if (options.minDate === undefined) {\n        this.minYear = this.minDate = undefined;\n      } else {\n        this.minYear = startOfYearPeriod(options.minDate, this.step);\n        this.minDate = dateValue(this.minYear, 0, 1);\n      }\n    }\n\n    if (hasProperty(options, 'maxDate')) {\n      if (options.maxDate === undefined) {\n        this.maxYear = this.maxDate = undefined;\n      } else {\n        this.maxYear = startOfYearPeriod(options.maxDate, this.step);\n        this.maxDate = dateValue(this.maxYear, 11, 31);\n      }\n    }\n\n    if (this.isMinView) {\n      if (options.datesDisabled) {\n        this.datesDisabled = options.datesDisabled;\n      }\n    } else {\n      this.datesDisabled = [];\n    }\n\n    if (options[this.beforeShowOption] !== undefined) {\n      const beforeShow = options[this.beforeShowOption];\n      this.beforeShow = typeof beforeShow === 'function' ? beforeShow : undefined;\n    }\n  } // Update view's settings to reflect the viewDate set on the picker\n\n\n  updateFocus() {\n    const viewDate = new Date(this.picker.viewDate);\n    const first = startOfYearPeriod(viewDate, this.navStep);\n    const last = first + 9 * this.step;\n    this.first = first;\n    this.last = last;\n    this.start = first - this.step;\n    this.focused = startOfYearPeriod(viewDate, this.step);\n  } // Update view's settings to reflect the selected dates\n\n\n  updateSelection() {\n    const {\n      dates,\n      rangepicker\n    } = this.picker.datepicker;\n    this.selected = dates.reduce((years, timeValue) => {\n      return pushUnique(years, startOfYearPeriod(timeValue, this.step));\n    }, []);\n\n    if (rangepicker && rangepicker.dates) {\n      this.range = rangepicker.dates.map(timeValue => {\n        if (timeValue !== undefined) {\n          return startOfYearPeriod(timeValue, this.step);\n        }\n      });\n    }\n  } // Update the entire view UI\n\n\n  render() {\n    // refresh disabled years on every render in order to clear the ones added\n    // by beforeShow hook at previous render\n    // this.disabled = [...this.datesDisabled];\n    this.disabled = this.datesDisabled.map(disabled => new Date(disabled).getFullYear());\n    this.picker.setViewSwitchLabel(`${this.first}-${this.last}`);\n    this.picker.setPrevBtnDisabled(this.first <= this.minYear);\n    this.picker.setNextBtnDisabled(this.last >= this.maxYear);\n    Array.from(this.grid.children).forEach((el, index) => {\n      const classList = el.classList;\n      const current = this.start + index * this.step;\n      const date = dateValue(current, 0, 1);\n      el.className = `datepicker-cell ${this.cellClass}`;\n\n      if (this.isMinView) {\n        el.dataset.date = date;\n      }\n\n      el.textContent = el.dataset.year = current;\n\n      if (index === 0) {\n        classList.add('prev');\n      } else if (index === 11) {\n        classList.add('next');\n      }\n\n      if (current < this.minYear || current > this.maxYear || this.disabled.includes(current)) {\n        classList.add('disabled');\n      }\n\n      if (this.range) {\n        const [rangeStart, rangeEnd] = this.range;\n\n        if (current > rangeStart && current < rangeEnd) {\n          classList.add('range');\n        }\n\n        if (current === rangeStart) {\n          classList.add('range-start');\n        }\n\n        if (current === rangeEnd) {\n          classList.add('range-end');\n        }\n      }\n\n      if (this.selected.includes(current)) {\n        classList.add('selected');\n      }\n\n      if (current === this.focused) {\n        classList.add('focused');\n      }\n\n      if (this.beforeShow) {\n        this.performBeforeHook(el, current, date);\n      }\n    });\n  } // Update the view UI by applying the changes of selected and focused items\n\n\n  refresh() {\n    const [rangeStart, rangeEnd] = this.range || [];\n    this.grid.querySelectorAll('.range, .range-start, .range-end, .selected, .focused').forEach(el => {\n      el.classList.remove('range', 'range-start', 'range-end', 'selected', 'focused');\n    });\n    Array.from(this.grid.children).forEach(el => {\n      const current = Number(el.textContent);\n      const classList = el.classList;\n\n      if (current > rangeStart && current < rangeEnd) {\n        classList.add('range');\n      }\n\n      if (current === rangeStart) {\n        classList.add('range-start');\n      }\n\n      if (current === rangeEnd) {\n        classList.add('range-end');\n      }\n\n      if (this.selected.includes(current)) {\n        classList.add('selected');\n      }\n\n      if (current === this.focused) {\n        classList.add('focused');\n      }\n    });\n  } // Update the view UI by applying the change of focused item\n\n\n  refreshFocus() {\n    const index = Math.round((this.focused - this.start) / this.step);\n    this.grid.querySelectorAll('.focused').forEach(el => {\n      el.classList.remove('focused');\n    });\n    this.grid.children[index].classList.add('focused');\n  }\n\n}","map":{"version":3,"sources":["/home/chrismo/Documents/PROJECTS/go-movies/frontend/node_modules/vanillajs-datepicker/js/picker/views/YearsView.js"],"names":["hasProperty","pushUnique","createTagRepeat","dateValue","startOfYearPeriod","parseHTML","View","toTitleCase","word","reduce","str","ch","ix","toUpperCase","YearsView","constructor","picker","config","init","options","onConstruction","navStep","step","beforeShowOption","cellClass","grid","element","classList","add","name","appendChild","setOptions","minDate","undefined","minYear","maxDate","maxYear","isMinView","datesDisabled","beforeShow","updateFocus","viewDate","Date","first","last","start","focused","updateSelection","dates","rangepicker","datepicker","selected","years","timeValue","range","map","render","disabled","getFullYear","setViewSwitchLabel","setPrevBtnDisabled","setNextBtnDisabled","Array","from","children","forEach","el","index","current","date","className","dataset","textContent","year","includes","rangeStart","rangeEnd","performBeforeHook","refresh","querySelectorAll","remove","Number","refreshFocus","Math","round"],"mappings":"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","sourcesContent":["import {hasProperty, pushUnique, createTagRepeat} from '../../lib/utils.js';\nimport {dateValue, startOfYearPeriod} from '../../lib/date.js';\nimport {parseHTML} from '../../lib/dom.js';\nimport View from './View.js';\n\nfunction toTitleCase(word) {\n  return [...word].reduce((str, ch, ix) => str += ix ? ch : ch.toUpperCase(), '');\n}\n\n// Class representing the years and decades view elements\nexport default class YearsView extends View {\n  constructor(picker, config) {\n    super(picker, config);\n  }\n\n  init(options, onConstruction = true) {\n    if (onConstruction) {\n      this.navStep = this.step * 10;\n      this.beforeShowOption = `beforeShow${toTitleCase(this.cellClass)}`;\n      this.grid = this.element;\n      this.element.classList.add(this.name, 'datepicker-grid');\n      this.grid.appendChild(parseHTML(createTagRepeat('span', 12)));\n    }\n    super.init(options);\n  }\n\n  setOptions(options) {\n    if (hasProperty(options, 'minDate')) {\n      if (options.minDate === undefined) {\n        this.minYear = this.minDate = undefined;\n      } else {\n        this.minYear = startOfYearPeriod(options.minDate, this.step);\n        this.minDate = dateValue(this.minYear, 0, 1);\n      }\n    }\n    if (hasProperty(options, 'maxDate')) {\n      if (options.maxDate === undefined) {\n        this.maxYear = this.maxDate = undefined;\n      } else {\n        this.maxYear = startOfYearPeriod(options.maxDate, this.step);\n        this.maxDate = dateValue(this.maxYear, 11, 31);\n      }\n    }\n    if (this.isMinView) {\n      if (options.datesDisabled) {\n        this.datesDisabled = options.datesDisabled;\n      }\n    } else {\n      this.datesDisabled = [];\n    }\n    if (options[this.beforeShowOption] !== undefined) {\n      const beforeShow = options[this.beforeShowOption];\n      this.beforeShow = typeof beforeShow === 'function' ? beforeShow : undefined;\n    }\n  }\n\n  // Update view's settings to reflect the viewDate set on the picker\n  updateFocus() {\n    const viewDate = new Date(this.picker.viewDate);\n    const first = startOfYearPeriod(viewDate, this.navStep);\n    const last = first + 9 * this.step;\n\n    this.first = first;\n    this.last = last;\n    this.start = first - this.step;\n    this.focused = startOfYearPeriod(viewDate, this.step);\n  }\n\n  // Update view's settings to reflect the selected dates\n  updateSelection() {\n    const {dates, rangepicker} = this.picker.datepicker;\n    this.selected = dates.reduce((years, timeValue) => {\n      return pushUnique(years, startOfYearPeriod(timeValue, this.step));\n    }, []);\n    if (rangepicker && rangepicker.dates) {\n      this.range = rangepicker.dates.map(timeValue => {\n        if (timeValue !== undefined) {\n          return startOfYearPeriod(timeValue, this.step);\n        }\n      });\n    }\n  }\n\n  // Update the entire view UI\n  render() {\n    // refresh disabled years on every render in order to clear the ones added\n    // by beforeShow hook at previous render\n    // this.disabled = [...this.datesDisabled];\n    this.disabled = this.datesDisabled.map(disabled => new Date(disabled).getFullYear());\n\n    this.picker.setViewSwitchLabel(`${this.first}-${this.last}`);\n    this.picker.setPrevBtnDisabled(this.first <= this.minYear);\n    this.picker.setNextBtnDisabled(this.last >= this.maxYear);\n\n    Array.from(this.grid.children).forEach((el, index) => {\n      const classList = el.classList;\n      const current = this.start + (index * this.step);\n      const date = dateValue(current, 0, 1);\n\n      el.className = `datepicker-cell ${this.cellClass}`;\n      if (this.isMinView) {\n        el.dataset.date = date;\n      }\n      el.textContent = el.dataset.year = current;\n\n      if (index === 0) {\n        classList.add('prev');\n      } else if (index === 11) {\n        classList.add('next');\n      }\n      if (current < this.minYear || current > this.maxYear || this.disabled.includes(current)) {\n        classList.add('disabled');\n      }\n      if (this.range) {\n        const [rangeStart, rangeEnd] = this.range;\n        if (current > rangeStart && current < rangeEnd) {\n          classList.add('range');\n        }\n        if (current === rangeStart) {\n          classList.add('range-start');\n        }\n        if (current === rangeEnd) {\n          classList.add('range-end');\n        }\n      }\n      if (this.selected.includes(current)) {\n        classList.add('selected');\n      }\n      if (current === this.focused) {\n        classList.add('focused');\n      }\n\n      if (this.beforeShow) {\n        this.performBeforeHook(el, current, date);\n      }\n    });\n  }\n\n  // Update the view UI by applying the changes of selected and focused items\n  refresh() {\n    const [rangeStart, rangeEnd] = this.range || [];\n    this.grid\n      .querySelectorAll('.range, .range-start, .range-end, .selected, .focused')\n      .forEach((el) => {\n        el.classList.remove('range', 'range-start', 'range-end', 'selected', 'focused');\n      });\n    Array.from(this.grid.children).forEach((el) => {\n      const current = Number(el.textContent);\n      const classList = el.classList;\n      if (current > rangeStart && current < rangeEnd) {\n        classList.add('range');\n      }\n      if (current === rangeStart) {\n        classList.add('range-start');\n      }\n      if (current === rangeEnd) {\n        classList.add('range-end');\n      }\n      if (this.selected.includes(current)) {\n        classList.add('selected');\n      }\n      if (current === this.focused) {\n        classList.add('focused');\n      }\n    });\n  }\n\n  // Update the view UI by applying the change of focused item\n  refreshFocus() {\n    const index = Math.round((this.focused - this.start) / this.step);\n    this.grid.querySelectorAll('.focused').forEach((el) => {\n      el.classList.remove('focused');\n    });\n    this.grid.children[index].classList.add('focused');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}